@defer (when !mobileView()) {
  @if (!mobileView()) {
    <header class="header">
      <p class="header__logo">Med<span class="text-blue">GPT</span></p>
      <app-button customClass="button--small" i18n="@@login_button_text">
        Log In
      </app-button>
    </header>

    <main class="main">
      <ng-container *ngTemplateOutlet="mainHeading"/>

      <div class="main__info">
        <ng-container *ngTemplateOutlet="mainDescription"/>

        <app-description-cards @fade/>

        <ng-container *ngTemplateOutlet="mainSubDescription"/>
      </div>

      <div class="main__footing">
        <app-button (click)="onButtonClick()" customClass="button--big">
          <ng-container [ngTemplateOutlet]="letsChatButton"/>
        </app-button>
      </div>
    </main>
  }
}

@defer (when mobileView()) {
  @if (mobileView()) {
    <main class="main">
      <ng-container *ngTemplateOutlet="mainHeading"/>

      <div class="main__info">
        @if (firstStep() || lastStep()) {
          <h3 class="main__info__title">
            <img @fade ngSrc="icons/sun-high.svg" width="24" height="24" alt="sun-high">
            @if (firstStep()) {
              <span @fade i18n="@@first_step_title">What is MedGPT?</span>
            }
            @defer (when lastStep()) {
              @if (lastStep()) {
                <span @fade i18n="@@last_step_title">Increase your productivity and discover new horizons in science with MedGPT!</span>
              }
            }
          </h3>
        }

        @if (firstStep()) {
          <ng-container *ngTemplateOutlet="mainDescription"/>
        }

        @defer (when lastStep()) {
          @if (lastStep()) {
            <p @fade class="main__text" i18n="@@last_step_text">
              Join the community of professionals using MedGPT to reach new heights in medicine and biology
            </p>
          }
        }

        @defer (when secondStep()) {
          @if (secondStep()) {
            <app-description-cards @fade/>
          }
        }

        @defer (when lastStep()) {
          @if (lastStep()) {
            <ng-container *ngTemplateOutlet="mainSubDescription"/>
          }
        }
      </div>
    </main>

    <div class="footer">
      <div class="footer__navigation">
        @for (step of STEPS; track $index) {
          <span [class.active]="currentStep() === step"></span>
        }
      </div>

      <app-button (click)="onButtonClick()" customClass="button--big">
        @defer (when lastStep()) {
          @if (lastStep()) {
            <ng-container [ngTemplateOutlet]="letsChatButton"/>
          }
        }

        @if (!lastStep()) {
          <span @fade>{{ 'Next' }}</span>
        }
      </app-button>
    </div>
  }
}

<ng-template #mainHeading>
  <div @fade class="main__heading">
    <h1 class="main__title" i18n="@@greeting_title">
      Welcome to <span>Med<span class="text-blue">GPT</span></span>
    </h1>
    <h2 class="main__subtitle" i18n="@@medgpt_short_description">Your personal assistant in the world of medicine and biology</h2>
  </div>
</ng-template>

<ng-template #mainDescription>
  <p @fade class="main__text" i18n="@@medgpt_description">
    MedGPT is an AI-powered web application designed to make your work with scientific articles easier. Whether you
    are a scientist, a doctor or a student, MedGPT will help you effectively research, analyze and apply scientific
    information
  </p>
</ng-template>

<ng-template #mainSubDescription>
  <p @fade class="main__text" i18n="@@start_trial_text">
    Start your free trial today and discover new research opportunities!
  </p>
</ng-template>

<ng-template #letsChatButton>
  <span @fade i18n="@@lets_chat_button_text">Letâ€™s Chat</span>
  <img @fade ngSrc="icons/arrow-right.svg" width="24" height="24" alt="arrow-right">
</ng-template>
